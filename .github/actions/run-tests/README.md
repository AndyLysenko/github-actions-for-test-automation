# Run integration and e2e tests action

## Inputs

Takes three input parameters, where two are required and one is optional with a reasonable default:

- `test-project`: Relative path of the project containing tests. Has default of `./tests/AndyLysenko.ApiTests/AndyLysenko.ApiTests.csproj` since currently this is the only project containing tests. *Optional*
- `environment`: Environment to run tests on. *Required*
- `test-filter`: Filter parameter in format supported by 'dotnet test --filter "test-filter_value"'. For more information refer to `Compose test filter action` documentation. *Required*

## Outputs

- None

## What it does

This action:

- Checks out automated tests solution repository
- Builds `test-project` for the `environment` specified in the inputs
- Runs tests specified by `test-filter` using [dotnet test](https://learn.microsoft.com/en-us/dotnet/core/tools/dotnet-test) CLI command
- Publishes test results to the workflow run with name `Test Results for Run ${{ github.run_id }}`, where github.run_id is a unique workflow run id
- Publishes [Extent report](https://www.extentreports.com/) in Html as an artifact. The report is automatically generated by test automation framework and named `html-report-${{ github.run_id }}`, where github.run_id is a unique workflow run id

## Sample usage

Run all platform_a tests on `qa` environment:

```yaml
- name: Run tests
  uses: AndyLysenko/api-integration-tests/.github/actions/run-tests@main
  with:
    environment: qa
    test-filter: "Platform=platform_a"
```
